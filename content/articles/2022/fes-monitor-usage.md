---
slug: /articles/fes-monitor-usage
date: 2022-04-25
last_update: 2022-04-25
title: KSS Fes Monitor の 使い方
description: 文化祭の待ち時間モニターの使い方を説明します。
---

## KSS Fes Monitor って何？

<img src="/images/articles/2022/fes-monitor-usage/using-monitor.png" width="400">

これです。特別棟 1 階の階段前と、本棟 2 階の職員室の前に置いてあったやつ。
画像は 2019 年度のものですが、用途的には同じです。

<img src="/images/articles/2022/fes-monitor-usage/monitor-image1.png" width="600">
<img src="/images/articles/2022/fes-monitor-usage/monitor-image2.png" width="600">

（画面は開発段階のものであり、変更される場合があります）

こんな感じで、各クラスの模擬店の待ち時間や商品の在庫状況をお客さんに知らせることができます。

## 使い方

### 文化祭開始前

#### 1. Firebase プロジェクトのアクセス権を得る

Discord の OB/OG の欄に「Asa」がいます。
その人に、**自分の Google アカウントのメールアドレスと一緒に**「KSS Fes Monitor の Firebase のアクセス権ください」などと言ってください。アクセス権あげます。<br>
もしくは、すでにアクセス権を持ってる人に言ってもいいです。

もちろん、権限を乱用しないでください。Asa 宛に請求が来ます。やめてください。<br>
（乱用できないような設定もできるけど、各自でメンバー追加をできなくなってしまう恐れがあるため、その設定はしてません。）

#### 2. 各模擬店アカウントの作成

Firebase にアクセスできるようになったら、アカウントを作成します。

1. <p>https://console.firebase.google.com/project/kss-festival-admin/authentication/users にアクセスしてください。</p>
2. <p>「ユーザーを追加」をクリックします。</p>
   <p><img src="/images/articles/2022/fes-monitor-usage/firebase-auth1.png" width="600"></p>
3. <p>メールアドレスとパスワードを入力します。
   が、さすがに各クラスの人のメールアドレスを登録させるわけにもいかないので、「fes-g(学年)c(組)@kss-pc.club」としてください。
   部活動の場合、「fes-club-(その部活動を表す文字列)@kss-pc.club」とするとよいでしょう。
   パスワードは、ランダムな英数字8文字くらいがよいかもしれません。記号は使えないかもしれません（たぶん）。</p>
   <p>なお、メールを受け取れないので、<b>パスワードの再設定ができません、必ずメールアドレスとパスワードの組を控えておいてください</b>。
   もし紛失したら、Google Domainsに行ってメールの転送設定を追加するなり、アカウントを削除・再追加するなりしてください。</p>
   <p>例1: 3年2組の場合「fes-g3c2@kss-pc.club」<br>
   例2: 科学部の場合「fes-club-science@kss-pc.club」（適当に考えてください）</p>
   <p><img src="/images/articles/2022/fes-monitor-usage/firebase-auth2.png" width="600"></p>

一応、これでアカウント自体の作成は完了しました。

次に、模擬店のデータベースを作成します。

1. <p>先ほどのアカウント生成の画面で、「ユーザーUID」をコピーしてください。</p>
2. <p>左の「Firestore Database」に移動します。</p>
3. <p>「コレクションを開始」と書かれている下にいくつかのデータがあります。まずは「chat」をクリックします。</p>
4. <p>真ん中の部分に「ドキュメントを追加」とあるので、クリックします。</p>
5. <p>以下のデータに変更し、「保存」します。</p>
   <p><img src="/images/articles/2022/fes-monitor-usage/firebase-db1.png" width="600"></p>
6. <p>次に、「コレクションを開始」の下「class_info」をクリックし、同様に「ドキュメントを追加」をクリックします。</p>
   <p>内容はこの通りです。<br><img src="/images/articles/2022/fes-monitor-usage/firebase-db2.png" width="600"></p>
   <p>ちなみに、ここで https://monitor.festival.kss-pc.club/ を開いてみると、新しくデータが追加されていることが確認できます。 </p>
7. <p>次に、「class_proceeds」をクリックし、同様に「ドキュメントを追加」をクリックします。</p>
   <p>内容はこの通りです。<br><img src="/images/articles/2022/fes-monitor-usage/firebase-db3.png" width="600"></p>

管理者権限を持ったあなたのアカウントも作りましょう。<br>
管理者権限のアカウントには、各模擬店からの質問などがチャットで飛んできます。
対応してあげてね。<br>
なお、管理者権限のアカウントごとじゃなくて、「管理者」という 1 アカウントにチャットが飛んでくる感じです。誰か 1 人が対応したら、ほかの人は対応しなくて良いです。そこは連携してね。

基本的には、上の手順です。以下の点を除いて。

- メールアドレスは自分のアドレスに、パスワードも自分の覚えやすいものにしてください。
- データベース作成の際、「class_info」の作成は飛ばしてください。モニターに表示されてしまいます。
- 「class_proceeds」の内容で、「admin」を「true」にしてください。

以上で終わりです。お疲れさまでした。

#### 3. 文化祭情報の設定

さて、KSS Fes Monitor の右下をご覧ください。
現在時刻のとなり。カウントダウンタイマーがあります。

このタイマーですが、文化祭開催前は「文化祭はまもなく開始します。開始まで...」、文化祭中は「文化祭終了まで...」、終了後は「文化祭は終了しました。本日はご来場ありがとうございました！」と表示されます。

年度ごとに異なるタイマーの設定は、Firebase 上で行うことができます。

1. 「Firestore Database」に移動します
2. 「コレクションを開始」の下「festival_duration」をクリックします
3. 「ドキュメントを追加」の下「time」をクリックします
4. 「フィールドを追加」の下に「end」「start」があるので、それを変更してください。その名の通り、「start」は開始時刻、「end」は終了時刻です。

#### 4. 模擬店アカウントの通達

各クラスに、先ほど作ったアカウント情報を、紙なり LINE なりで通達します。

具体的には、以下の情報を伝えてあげてください。

- ログイン URL https://admin.festival.kss-pc.club/ （この URL は、管理者アカウントでも同じです）
- メールアドレス
- パスワード

また、これらの情報も必要に応じて、わかりやすく書いてあげましょう。

- アカウントについて
  - この情報をなくさないようにする（パソコン部側で保有していればいいけど、一応写真を撮っておくなど）
  - ただし、メールアドレス・パスワードは流出させない！
- モニター更新について
  - ログイン後、「モニター情報変更」から変更できる
  - 「モニター情報変更」の画面は、「更新」を押さなければ更新されない（モニターに反映されない）
- その他
  - 書いてあるメールアドレスに何か送っても誰にも届かない
  - 何かあればログイン後の「チャットシステム」から連絡できる
  - 「レジシステム」や「売上確認」機能は使っても使わなくてもいい（KSS Pay を使う前提に作った機能なので。ただ、ちゃんと機能はする）

#### 5. モニターの設置

### 文化祭中

#### 質問に答える

#### イベント開催情報をアップデートする

#### 定期的にモニターが動いているかチェックする

### 文化祭終了後

#### 模擬店アカウントの削除
